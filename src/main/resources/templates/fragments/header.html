<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Header Fragment</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div th:fragment="headerFragment">
    <div class="header-top">
        <div class="left-contents">

        </div>
        <div class="center-contents">
            <div>
                <div class="logo-img">
                    <a th:href="@{/main}">
                        <img th:src="@{/images/character/logo.png}" alt="로고 이미지" style="max-width: 300px; max-height:100px; height: auto;">
                    </a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
                <div>
                    <a class="main-title-name" th:href="@{/main}" style="color: #1859FF">INNO MARKET</a>
                </div>
                <div class="main-title">
                    <form class="" th:action="@{/i/items}" method="get">
                        <div class="search-container">
                            <label for="searchInput" class="visually-hidden">Search</label>
                            <input type="search" id="searchInput" class="form-control border-bottom" placeholder="상품 검색" aria-label="Search" name="q">
                            <input type="image" src="/images/character/search.png" alt="검색" class="search-button">
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <div class ="right-contents">
            <div class="user-info-wrap">
                <span class="user-info" th:if="${#authorization.expression('isAuthenticated()')}" th:text="${#authentication.principal.username + '님 반갑습니다.'}" style="color: black"></span>
            </div>

            <div class="login-div">
                <div class="info-btn-wrap">
                    <button class="btn btn-outline-primary me-2" sec:authorize="isAnonymous()" onclick="location.href='/login'">로그인</button>

                    <a th:href="@{/m/main}" sec:authorize="isAuthenticated()">
                        <img src="/images/character/info.png" alt="내정보 아이콘"  class="icon-button">
                    </a>
                    <a th:href="@{/c/cart}" sec:authorize="isAuthenticated()">
                        <img src="/images/character/cart.png" alt="찜목록 아이콘"  class="icon-button">
                    </a>
                    <a sec:authorize="isAuthenticated()" href="/logout" class="icon-link">
                        <img src="/images/character/bye.png" alt="로그아웃 아이콘" class="icon-button">
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!--<div class="header-main">
        <h1>
            <a th:href="@{/main}">INNO Market</a>
        </h1>
    </div>-->
</div>
</body>
</html>